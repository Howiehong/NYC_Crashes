<!DOCTYPE html>
<html>
  <head>
    <title>NYC Crashes</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""/>

    <!-- Custom CSS -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>

    <!-- Favicon -->
    <link rel="icon" href="data:;base64,=">
  </head>

  <body>
    
    <!-- map -->
    <div class="container">
      <div id="map"></div>
      <!-- Dropdown button -->
      <div class="dropdown-container">
        <div class="year">
          <button onclick="myFunction('myDropdown')" id="dropbtny">Year</button>
          <div id="myDropdown" class="dropdown-content">
            <input type="text" placeholder="Search.." id="yearInput" class="dropdown-input" onkeyup="filterFunction('myDropdown', 'yearInput')">
            <select id="yearop">
              <option value="2023">2023</option>
              <option value="2022">2022</option>
              <option value="2021">2021</option>
              <option value="2020">2020</option>
              <option value="2019">2019</option>
              <option value="2018">2018</option>
              <option value="2017">2017</option>
              <option value="2016">2016</option>
              <option value="2015">2015</option>
              <option value="2014">2014</option>
              <option value="2013">2013</option>
            </select>
          </div>
        </div>
        <div class="month">
          <button onclick="myFunction('myDropdown1')" id="dropbtn">Month</button>
          <div id="myDropdown1" class="dropdown-content">
            <input type="text" placeholder="Search.." id="monthInput" class="dropdown-input" onkeyup="filterFunction('myDropdown1', 'monthInput')">
            <select id = 'monthop'>
              <option value="01">January</option>
              <option value="02">February</option>
              <option value="03">March</option>
              <option value="04">April</option>
              <option value="05">May</option>
              <option value="06">June</option>
              <option value="07">July</option>
              <option value="08">August</option>
              <option value="09">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
          </div>
        </div>
      </div>
      
      
	  <script>// Set up your variables outside of each function so that you can use them outside of the functions
      var year = document.getElementById("yearop");
      var month = document.getElementById("monthop");
      
      // Don't use .onXys properties. Use .addEventListener
      year.addEventListener("change", getValues);
      month.addEventListener("change", getValues); 
      function getValues(){
        
        filterMonth(year.value, month.value)
     // Do whatever here, but when done, pass both values to other function:   
        // doOtherWork(year.value, month.value);
      }
  
      function doOtherWork(year1, month1){
        alert("year=" + year1 + "&month=" + month1);  
      }
  </script>
  
    </div>



	<div id="results"></div>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""></script>

    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>


	<style>
	  .dropdown-container {
		display: flex;
		justify-content: space-between;
	  }
	  .year, .month {
		display: inline-block;
	  }
	</style>
  <script src="{{ url_for('static', filename='js/dropdown.js') }}"></script>
  </body>
</html>
